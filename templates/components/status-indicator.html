{#
  Status Indicator Component
  
  Displays status with color-independent markers (icon + text).
  
  Validates:
  - Requirements 3.2 (Color-independent indicators)
  - Requirements 11.2 (Status indicator consistency)
  
  Usage:
    {% include 'components/status-indicator.html' with context %}
  
  Required context:
    - status: StatusIndicator or dict with 'status', 'label', 'icon' (optional)
#}

{% if status %}
{% set status_type = status.status if status.status is defined else status.get('status', 'info') %}
{% set status_label = status.label if status.label is defined else status.get('label', 'Unknown') %}
{% set status_icon = status.get_icon() if status.get_icon is defined else status.get('icon', 'circle') %}

<span class="status-indicator status-{{ status_type }}" role="status">
  <i class="icon-{{ status_icon }}" aria-hidden="true"></i>
  <span class="status-label">{{ status_label }}</span>
</span>

<style>
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: var(--space-xs, 0.25rem);
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1;
}

/* Status variants with color AND icon (WEB 3.2) */
.status-indicator.status-success {
  background: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.status-indicator.status-warning {
  background: #fff3cd;
  color: #856404;
  border: 1px solid #ffeaa7;
}

.status-indicator.status-error {
  background: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

.status-indicator.status-info {
  background: #d1ecf1;
  color: #0c5460;
  border: 1px solid #bee5eb;
}

.status-indicator.status-running {
  background: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.status-indicator.status-stopped {
  background: #e2e3e5;
  color: #383d41;
  border: 1px solid #d6d8db;
}

.status-indicator i {
  font-size: 1rem;
}
</style>
{% endif %}
